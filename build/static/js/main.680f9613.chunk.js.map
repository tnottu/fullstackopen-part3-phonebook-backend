{"version":3,"sources":["components/Notification.js","components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Notification","message","type","className","Filter","nameFilter","handleNameFilterChange","value","onChange","PersonForm","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","Person","person","handleRemove","name","number","onClick","Persons","persons","map","baseUrl","axios","get","then","response","data","newObject","post","id","delete","updatedObject","put","App","useState","setPersons","setNewName","setNewNumber","setNameFilter","notification","setNotification","useEffect","personService","handleError","error","status","statusText","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","existingPerson","find","window","confirm","updatedPerson","catch","handleUpdate","createdPerson","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.680f9613.chunk.js","sourcesContent":["import React from 'react'\n\nconst Notification = ({ message, type = 'success' }) => {\n  if (!message) {\n    return null\n  }\n\n  return (\n    <div className={`notification notification--${type}`}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n\n","import React from 'react'\n\nconst Filter = ({ nameFilter, handleNameFilterChange }) => (\n  <div>\n    filter shown with: <input value={nameFilter} onChange={handleNameFilterChange} />\n  </div>\n)\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ handleSubmit, newName, handleNameChange, newNumber, handleNumberChange }) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      name: <input value={newName} onChange={handleNameChange} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from 'react'\n\nconst Person = ({ person, handleRemove }) => (\n  <div key={person.name}>{person.name} {person.number} <button onClick={() => handleRemove(person)}>delete</button></div>\n)\n\nconst Persons = ({ persons, handleRemove }) => (\n  <div>\n    {persons.map((person) => {\n      return <Person key={person.name} person={person} handleRemove={handleRemove} />\n    })}\n  </div>\n)\n\nexport default Persons;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(() => id)\n}\n\nconst update = updatedObject => {\n  const request = axios.put(`${baseUrl}/${updatedObject.id}`, updatedObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Notification from './components/Notification'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ nameFilter, setNameFilter] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilterChange = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  const handleError = (error, person) => {\n    if (error.response.data) {\n      // Validation error\n      setNotification({\n        message: error.response.data.error,\n        type: 'error',\n      })\n    } else if (error.response.status === 404) {\n      // Error 404\n      setNotification({\n        message: `Information of ${person.name} has already been removed from server`,\n        type: 'error',\n      })\n    } else {\n      setNotification({\n        message: error.response.statusText,\n        type: 'error',\n      })\n    }\n\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n\n  const handleRemove = (person) => {\n    if (!window.confirm(`Delete ${person.name} ?`)) {\n      return;\n    }\n\n    personService\n      .remove(person.id)\n      .then(id => {\n        setPersons(persons.filter(p => p.id !== id))\n        setNotification({ message: `Deleted ${person.name}` })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => handleError(error, person))\n  }\n\n  const handleUpdate = (person, number) => {\n    personService\n      .update({ ...person, number })\n      .then(updatedPerson => {\n        setPersons(persons.map(person => person.id === updatedPerson.id ? updatedPerson : person))\n        setNewName('')\n        setNewNumber('')\n        setNotification({ message: `Updated ${person.name}` })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => handleError(error, person))\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    const existingPerson = persons.find(person => person.name === newName);\n\n    if (existingPerson) {\n      if (window.confirm(`${existingPerson.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        handleUpdate(existingPerson, newNumber)\n      }\n      return\n    }\n\n    const person = {\n      name: newName,\n      number: newNumber,\n    };\n\n    personService\n      .create(person)\n      .then(createdPerson => {\n        setPersons([...persons, createdPerson])\n        setNewName('')\n        setNewNumber('')\n        setNotification({ message: `Created ${createdPerson.name}` })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(error => handleError(error, person))\n\n  }\n\n  const personsToShow = nameFilter\n    ? persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\n    : persons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification { ...notification } />\n      <Filter { ...{ nameFilter, handleNameFilterChange } } />\n      <h2>Add a new</h2>\n      <PersonForm {...{ handleSubmit, newName, handleNameChange, newNumber, handleNumberChange } } />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleRemove={handleRemove} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}