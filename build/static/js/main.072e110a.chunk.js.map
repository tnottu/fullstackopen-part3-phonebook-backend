{"version":3,"sources":["components/Notification.js","components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Notification","message","type","className","Filter","nameFilter","handleNameFilterChange","value","onChange","PersonForm","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","Person","person","handleRemove","name","number","onClick","Persons","persons","map","baseUrl","axios","get","then","response","data","newObject","post","id","delete","updatedObject","put","App","useState","setPersons","setNewName","setNewNumber","setNameFilter","notification","setNotification","useEffect","personService","handleError","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","existingPerson","find","window","confirm","updatedPerson","catch","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.072e110a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Notification = ({ message, type = 'success' }) => {\n  if (!message) {\n    return null\n  }\n\n  return (\n    <div className={`notification notification--${type}`}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n\n","import React from 'react'\n\nconst Filter = ({ nameFilter, handleNameFilterChange }) => (\n  <div>\n    filter shown with: <input value={nameFilter} onChange={handleNameFilterChange} />\n  </div>\n)\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ handleSubmit, newName, handleNameChange, newNumber, handleNumberChange }) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      name: <input value={newName} onChange={handleNameChange} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from 'react'\n\nconst Person = ({ person, handleRemove }) => (\n  <div key={person.name}>{person.name} {person.number} <button onClick={() => handleRemove(person)}>delete</button></div>\n)\n\nconst Persons = ({ persons, handleRemove }) => (\n  <div>\n    {persons.map((person) => {\n      return <Person key={person.name} person={person} handleRemove={handleRemove} />\n    })}\n  </div>\n)\n\nexport default Persons;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(() => id)\n}\n\nconst update = updatedObject => {\n  const request = axios.put(`${baseUrl}/${updatedObject.id}`, updatedObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Notification from './components/Notification'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ nameFilter, setNameFilter] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilterChange = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  const handleError = (person) => {\n    setNotification({\n      message: `Information of ${person.name} has already been removed from server`,\n      type: 'error',\n    })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n\n  const handleRemove = (person) => {\n    if (!window.confirm(`Delete ${person.name} ?`)) {\n      return;\n    }\n\n    personService\n      .remove(person.id)\n      .then(id => {\n        setPersons(persons.filter(p => p.id !== id))\n        setNotification({ message: `Deleted ${person.name}` })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(() => handleError(person))\n  }\n\n  const handleUpdate = (person, number) => {\n    personService\n      .update({ ...person, number })\n      .then(updatedPerson => {\n        setPersons(persons.map(person => person.id === updatedPerson.id ? updatedPerson : person))\n        setNewName('')\n        setNewNumber('')\n        setNotification({ message: `Updated ${person.name}` })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n      .catch(() => handleError(person))\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    const existingPerson = persons.find(person => person.name === newName);\n\n    if (existingPerson) {\n      if (window.confirm(`${existingPerson.name} is already added to the phonebook, replace the old number with a new one?`)) {\n        handleUpdate(existingPerson, newNumber)\n      }\n      return\n    }\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n\n    personService\n      .create(newPerson)\n      .then(person => {\n        setPersons([...persons, person])\n        setNewName('')\n        setNewNumber('')\n        setNotification({ message: `Created ${person.name}` })\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n\n  }\n\n  const personsToShow = nameFilter\n    ? persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\n    : persons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification { ...notification } />\n      <Filter { ...{ nameFilter, handleNameFilterChange } } />\n      <h2>Add a new</h2>\n      <PersonForm {...{ handleSubmit, newName, handleNameChange, newNumber, handleNumberChange } } />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleRemove={handleRemove} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}